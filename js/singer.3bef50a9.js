(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["singer"],{"20d0":function(t,e,n){"use strict";n.r(e);var c=n("7a23"),r=Object(c["G"])("data-v-660f5922");Object(c["s"])("data-v-660f5922");var a={class:"singer"};Object(c["q"])();var o=r((function(t,e,n,r,o,u){var i=Object(c["x"])("index-list"),l=Object(c["y"])("loading");return Object(c["E"])((Object(c["p"])(),Object(c["d"])("div",a,[Object(c["f"])(i,{data:o.singers},null,8,["data"])],512)),[[l,!o.singers.length]])})),u=n("1da1"),i=(n("96cf"),n("58ff"));function l(){return Object(i["a"])("/api/getSingerList")}n("b0c0");var s=Object(c["G"])("data-v-4345f6b8");Object(c["s"])("data-v-4345f6b8");var f={ref:"groupRef"},d={class:"title"},b={class:"avatar"},j={class:"name"},O={class:"fixed-title"};Object(c["q"])();var v=s((function(t,e,n,r,a,o){var u=Object(c["x"])("scroll"),i=Object(c["y"])("lazy");return Object(c["p"])(),Object(c["d"])(u,{class:"index-list",probeType:3,onScroll:r.onScroll,ref:"scrollRef"},{default:s((function(){return[Object(c["f"])("ul",f,[(Object(c["p"])(!0),Object(c["d"])(c["a"],null,Object(c["v"])(n.data,(function(t){return Object(c["p"])(),Object(c["d"])("li",{key:t.title,class:"group"},[Object(c["f"])("h2",d,Object(c["A"])(t.title),1),Object(c["f"])("ul",null,[(Object(c["p"])(!0),Object(c["d"])(c["a"],null,Object(c["v"])(t.list,(function(t){return Object(c["p"])(),Object(c["d"])("li",{key:t.id,class:"item"},[Object(c["E"])(Object(c["f"])("img",b,null,512),[[i,t.pic]]),Object(c["f"])("span",j,Object(c["A"])(t.name),1)])})),128))])])})),128))],512),Object(c["E"])(Object(c["f"])("div",{class:"fixed",style:r.fixedStyle},[Object(c["f"])("div",O,Object(c["A"])(r.fixedTitle),1)],4),[[c["C"],r.fixedTitle]]),Object(c["f"])("div",{class:"shortcut",onTouchstart:e[1]||(e[1]=Object(c["F"])((function(){return r.onShortcutTouchStart&&r.onShortcutTouchStart.apply(r,arguments)}),["stop","prevent"])),onTouchmove:e[2]||(e[2]=Object(c["F"])((function(){return r.onShortcutTouchMove&&r.onShortcutTouchMove.apply(r,arguments)}),["stop","prevent"])),onTouchend:e[3]||(e[3]=Object(c["F"])((function(){}),["stop","prevent"]))},[Object(c["f"])("ul",null,[(Object(c["p"])(!0),Object(c["d"])(c["a"],null,Object(c["v"])(r.shortcutList,(function(t,e){return Object(c["p"])(),Object(c["d"])("li",{key:t,class:["item",{current:r.currentIndex===e}],"data-index":e},Object(c["A"])(t),11,["data-index"])})),128))])],32)]})),_:1},8,["onScroll"])})),p=n("bba4");function h(t){var e=30,n=Object(c["u"])(null),r=Object(c["u"])([]),a=Object(c["u"])(0),o=Object(c["u"])(0),i=Object(c["u"])(0),l=r.value,s=Object(c["b"])((function(){var t=i.value,n=t>0&&t<e?t-e:0;return{transform:"translate3d(0,".concat(n,"px,0)")}})),f=Object(c["b"])((function(){if(a.value<0)return"";var e=t.data[o.value];return e?e.title:""}));function d(){var t=n.value.children,e=0;l.length=0,l.push(e);for(var c=0;c<t.length;c++)e+=t[c].clientHeight,l.push(e)}function b(t){a.value=-t.y}return Object(c["D"])((function(){return t.data}),Object(u["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(c["k"])();case 2:d();case 3:case"end":return t.stop()}}),t)})))),Object(c["D"])(a,(function(t){for(var e=0;e<l.length-1;e++){var n=l[e],c=l[e+1];t>=n&&t<=c&&(o.value=e,i.value=c-t)}})),{groupRef:n,onScroll:b,fixedTitle:f,currentIndex:o,fixedStyle:s}}n("d81d");var g=n("a1e9"),x=n("5c40");function S(t,e){var n=18,c=Object(g["j"])(null),r=Object(x["d"])((function(){return t.data.map((function(t){return t.title}))})),a={};function o(t){var e=parseInt(t.target.dataset.index);a.anchorIndex=e,a.y1=t.touches[0].pageY,i(e)}function u(t){a.y2=t.touches[0].pageY;var e=(a.y2-a.y1)/n|0,c=a.anchorIndex+e;i(c)}function i(t){if(!isNaN(t)){t=Math.max(0,Math.min(r.value.length-1,t));var n=e.value.children[t],a=c.value.scroll;a.scrollToElement(n,0)}}return{shortcutList:r,onShortcutTouchStart:o,scrollRef:c,onShortcutTouchMove:u}}var m={name:"index-list",components:{Scroll:p["a"]},props:{data:{type:Array,default:function(){return[]}}},setup:function(t){var e=h(t),n=e.groupRef,c=e.onScroll,r=e.fixedTitle,a=e.currentIndex,o=e.fixedStyle,u=S(t,n),i=u.shortcutList,l=u.scrollRef,s=u.onShortcutTouchStart,f=u.onShortcutTouchMove;return{groupRef:n,onScroll:c,fixedTitle:r,currentIndex:a,fixedStyle:o,shortcutList:i,onShortcutTouchStart:s,onShortcutTouchMove:f,scrollRef:l}}};n("aa58");m.render=v,m.__scopeId="data-v-4345f6b8";var y=m,T={components:{IndexList:y},data:function(){return{singers:[],Component:{}}},created:function(){var t=this;return Object(u["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,l();case 2:n=e.sent,console.log(n),t.singers=n.singers;case 5:case"end":return e.stop()}}),e)})))()},methods:{selectSinger:function(){}}};n("ea3f");T.render=o,T.__scopeId="data-v-660f5922";e["default"]=T},aa58:function(t,e,n){"use strict";n("f170")},d009:function(t,e,n){},d81d:function(t,e,n){"use strict";var c=n("23e7"),r=n("b727").map,a=n("1dde"),o=a("map");c({target:"Array",proto:!0,forced:!o},{map:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}})},ea3f:function(t,e,n){"use strict";n("d009")},f170:function(t,e,n){}}]);
//# sourceMappingURL=singer.3bef50a9.js.map