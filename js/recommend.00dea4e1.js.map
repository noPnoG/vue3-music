{"version":3,"sources":["webpack:///./src/views/recommend.vue","webpack:///./src/service/recommend.js","webpack:///./src/components/base/slider/slider.vue","webpack:///./node_modules/@better-scroll/slide/dist/slide.esm.js","webpack:///./src/components/base/slider/use-slider.js","webpack:///./src/components/base/slider/slider.vue?aa73","webpack:///./src/views/recommend.vue?68f7","webpack:///./src/views/recommend.vue?78b3","webpack:///./node_modules/core-js/internals/create-html.js","webpack:///./src/components/base/slider/slider.vue?5b66","webpack:///./node_modules/core-js/modules/es.string.link.js","webpack:///./node_modules/core-js/internals/string-html-forced.js"],"names":["class","width","height","sliders","length","loading","albums","item","key","id","selectItem","pic","username","title","getRecommend","get","ref","href","link","src","index","currentPageIndex","warn","msg","console","error","inBrowser","window","ua","navigator","userAgent","toLowerCase","test","indexOf","regex","matches","exec","parts","split","map","parseInt","EventName","opts","Object","defineProperty","addEventListener","e","extend","target","source","between","x","min","max","elementStyle","document","createElement","style","vendor","transformNames","value","_i","transformNames_1","obj","undefined","prefixStyle","charAt","toUpperCase","substr","transform","transition","prepend","el","firstChild","before","appendChild","parentNode","insertBefore","removeChild","child","ease","swipe","fn","t","swipeBounce","bounce","PagesMatrix","scroll","this","init","prototype","scroller","scrollBehaviorX","scrollBehaviorY","wrapperWidth","wrapperSize","wrapperHeight","scrollerHeight","contentSize","scrollerWidth","pages","buildPagesMatrix","pageLengthOfX","pageLengthOfY","getPageStats","pageX","pageY","getNearestPageIndex","y","l","cx","cy","stepX","stepY","i","maxScrollPosX","maxScrollPos","maxScrollPosY","Math","round","BASE_PAGE","SlidePages","slideOptions","slideX","slideY","currentPage","refresh","pagesMatrix","checkSlideLoop","getAdjustedCurrentPage","_a","loopX","loopY","_b","setCurrentPage","newPage","getInternalPage","getInitialPage","showFirstPage","firstInitialised","startPageXIndex","startPageYIndex","firstPageX","firstPageY","getExposedPage","page","exposedPage","fixedPage","getExposedPageByPageIndex","pageIndexX","pageIndexY","getWillChangedPage","realPageLen","pageIndex","push","unshift","getValidPageIndex","lastX","lastY","firstX","firstY","nextPageIndex","getPageIndexByDirection","prevPageIndex","getNearestPage","newX","newY","getPageByDirection","directionX","directionY","resetLoopPage","direction","wannaLoop","loop","sourcePrefix","propertiesMap","name","propertiesConfig","sourceKey","samePage","p1","p2","Slide","cachedClonedPageDOM","resetLooping","autoplayTimer","satisfyInitialization","content","children","willChangeToPage","handleBScroll","handleOptions","handleHooks","createPages","options","registerType","proxy","userOptions","slide","defaultOptions","threshold","speed","easing","listenFlick","autoplay","interval","handleLoop","prevSlideContent","slideContent","currentSlidePagesLength","resetLoopChangedStatus","removeClonedSlidePage","cloneFirstAndLastSlidePage","initialised","moreToOnePageInLoop","oneToMorePagesInLoop","_this","scrollHooks","hooks","scrollerHooks","prevContent","hooksFn","registerHooks","eventTypes","beforeScrollStart","pausePlay","scrollEnd","modifyCurrentPage","startPlay","mousewheelMove","mousewheelEnd","delta","next","prev","refreshHandler","destroy","beforeRefresh","setSlideInlineStyle","momentum","modifyScrollMetaHandler","scrollHandler","checkClick","flick","flickHandler","clearTimeout","setTimeout","styleConfigurations","sizeType","styleType","slideWrapper","wrapper","scrollOptions","forEach","size","length_1","slidePageDOM","time","goTo","goToPage","getCurrentPage","nearestPage","minScrollPosX","minScrollPos","minScrollPosY","satisfyThreshold","satisfied","abs","absStartPos","thresholdX","thresholdY","computeThreshold","contentChanged","initPage","beforeInitialScrollTo","position","preprendDOM","cloneNode","appendDOM","slidePages","point","prevExposedPageX","prevExposedPageY","currentExposedPageX","currentExposedPageY","pageWillChangeTo","trigger","slidePageChanged","changePage","scrollEasing","deltaX","currentPos","deltaY","getEaseTime","scrollTo","togglePointerEvents","currentPosX","startPosX","startPos","currentPosY","startPosY","scrollMeta","animater","forceStopped","changeToPage","slideWillChange","handler","on","hooksName","handlerFn","off","pluginName","BScroll","use","slider","useSlider","rootRef","onMounted","sliderVal","scrollX","scrollY","probeType","click","onUnmounted","onActivated","enable","onDeactivated","disable","props","type","Array","default","setup","render","__scopeId","components","Slider","Scroll","created","data","loadingText","computed","methods","requireObjectCoercible","quot","module","exports","string","tag","attribute","S","String","replace","$","createHTML","forcedStringHTMLMethod","proto","forced","url","fails","METHOD_NAME"],"mappings":"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","file":"js/recommend.00dea4e1.js","sourcesContent":["<template>\r\n<div class=\"recommend\" v-loading:[loadingText]=\"loading\">\r\n  <scroll class=\"recommend-content\">\r\n    <div>\r\n      <div class=\"slider-wrapper\">\r\n        <div class=\"slider-content\">\r\n          <slider v-if=\"sliders&&sliders.length\" :sliders=\"sliders\"></slider>\r\n        </div>\r\n      </div>\r\n      <div class=\"recommend-list\">\r\n        <h1 class=\"list-title\" v-show=\"!loading\">热门歌单推荐</h1>\r\n        <ul>\r\n          <li\r\n            v-for=\"item in albums\"\r\n            class=\"item\"\r\n            :key=\"item.id\"\r\n            @click=\"selectItem(item)\"\r\n          >\r\n            <div class=\"icon\">\r\n              <img width=\"60\" height=\"60\" v-lazy=\"item.pic\">\r\n            </div>\r\n            <div class=\"text\">\r\n              <h2 class=\"name\">\r\n                {{ item.username }}\r\n              </h2>\r\n              <p class=\"title\">\r\n                {{item.title}}\r\n              </p>\r\n            </div>\r\n          </li>\r\n        </ul>\r\n      </div>\r\n    </div>\r\n  </scroll>\r\n</div>\r\n\r\n</template>\r\n\r\n<script>\r\nimport { getRecommend } from '@/service/recommend.js'\r\nimport Slider from '@/components/base/slider/slider'\r\nimport Scroll from '@/components/base/scroll/scroll'\r\nexport default {\r\n  name: 'recommend',\r\n  components: {\r\n    Slider,\r\n    Scroll\r\n  },\r\n  async created () {\r\n    const data = await getRecommend()\r\n    this.sliders = data.sliders\r\n    this.albums = data.albums\r\n  },\r\n  data () {\r\n    return {\r\n      sliders: [],\r\n      albums: [],\r\n      loadingText: '载入中。。。'\r\n    }\r\n  },\r\n  computed: {\r\n    loading () {\r\n      return !this.sliders.length > 0 && !this.albums.length > 0\r\n    }\r\n  },\r\n  methods: {\r\n    selectItem () {}\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.recommend{\r\n  position: fixed;\r\n  top: 88px;\r\n  bottom: 0;\r\n  width: 100%;\r\n  .recommend-content{\r\n    height: 100%;\r\n    overflow: hidden;\r\n  .slider-wrapper{\r\n    position: relative;\r\n    width: 100%;\r\n    padding-top: 40%;\r\n    height: 0;\r\n    overflow: hidden;\r\n    .slider-content{\r\n      position: absolute;\r\n      left: 0;\r\n      top: 0;\r\n      width: 100%;\r\n      height: 100%;\r\n    }\r\n  }\r\n   .recommend-list {\r\n        .list-title {\r\n          height: 65px;\r\n          line-height: 65px;\r\n          text-align: center;\r\n          font-size: $font-size-medium;\r\n          color: $color-theme;\r\n        }\r\n        .item {\r\n          display: flex;\r\n          box-sizing: border-box;\r\n          align-items: center;\r\n          padding: 0 20px 20px 20px;\r\n\r\n          .icon {\r\n            flex: 0 0 60px;\r\n            width: 60px;\r\n            padding-right: 20px;\r\n          }\r\n          .text {\r\n            display: flex;\r\n            flex-direction: column;\r\n            justify-content: center;\r\n            flex: 1;\r\n            line-height: 20px;\r\n            overflow: hidden;\r\n            font-size: $font-size-medium;\r\n          }\r\n          .name {\r\n            margin-bottom: 10px;\r\n            color: $color-text;\r\n          }\r\n          .title {\r\n            color: $color-text-d;\r\n          }\r\n        }\r\n      }\r\n  }\r\n}\r\n</style>\r\n","import { get } from './base'\r\n\r\nexport function getRecommend () {\r\n  return get('/api/getRecommend')\r\n}\r\n","<template>\r\n  <div class=\"slider\" ref=\"rootRef\">\r\n    <div class=\"slider-group\">\r\n      <div\r\n        class=\"slider-page\"\r\n        v-for=\"item in sliders\"\r\n        :key=\"item.id\"\r\n      >\r\n        <a :href=\"item.link\">\r\n          <img :src=\"item.pic\"/>\r\n        </a>\r\n      </div>\r\n    </div>\r\n    <div class=\"dots-wrapper\">\r\n      <span\r\n        class=\"dot\"\r\n        v-for=\"(item, index) in sliders\"\r\n        :key=\"item.id\"\r\n        :class=\"{'active': currentPageIndex === index}\">\r\n      </span>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { ref } from 'vue'\r\nimport useSlider from './use-slider'\r\n\r\nexport default {\r\n  name: 'slider',\r\n  props: {\r\n    sliders: {\r\n      type: Array,\r\n      default () {\r\n        return []\r\n      }\r\n    }\r\n  },\r\n  setup () {\r\n    const rootRef = ref(null)\r\n    const { currentPageIndex } = useSlider(rootRef)\r\n    return {\r\n      rootRef,\r\n      currentPageIndex\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n  .slider {\r\n    min-height: 1px;\r\n    font-size: 0;\r\n    touch-action: pan-y;\r\n    .slider-group {\r\n      position: relative;\r\n      overflow: hidden;\r\n      white-space: nowrap;\r\n      .slider-page {\r\n        display: inline-block;\r\n        transform: translate3d(0, 0, 0);\r\n        backface-visibility: hidden;\r\n        a {\r\n          display: block;\r\n          width: 100%;\r\n        }\r\n        img {\r\n          display: block;\r\n          width: 100%;\r\n        }\r\n      }\r\n    }\r\n    .dots-wrapper {\r\n      position: absolute;\r\n      left: 50%;\r\n      bottom: 12px;\r\n      line-height: 12px;\r\n      transform: translateX(-50%);\r\n      .dot {\r\n        display: inline-block;\r\n        margin: 0 4px;\r\n        width: 8px;\r\n        height: 8px;\r\n        border-radius: 50%;\r\n        background: $color-text-l;\r\n        &.active {\r\n          width: 20px;\r\n          border-radius: 5px;\r\n          background: $color-text-ll;\r\n        }\r\n      }\r\n    }\r\n  }\r\n</style>\r\n","/*!\n * better-scroll / slide\n * (c) 2016-2021 ustbhuangyi\n * Released under the MIT License.\n */\nfunction warn(msg) {\r\n    console.error(\"[BScroll warn]: \" + msg);\r\n}\n\n// ssr support\r\nvar inBrowser = typeof window !== 'undefined';\r\nvar ua = inBrowser && navigator.userAgent.toLowerCase();\r\nvar isWeChatDevTools = !!(ua && /wechatdevtools/.test(ua));\r\nvar isAndroid = ua && ua.indexOf('android') > 0;\r\n/* istanbul ignore next */\r\nvar isIOSBadVersion = (function () {\r\n    if (typeof ua === 'string') {\r\n        var regex = /os (\\d\\d?_\\d(_\\d)?)/;\r\n        var matches = regex.exec(ua);\r\n        if (!matches)\r\n            return false;\r\n        var parts = matches[1].split('_').map(function (item) {\r\n            return parseInt(item, 10);\r\n        });\r\n        // ios version >= 13.4 issue 982\r\n        return !!(parts[0] === 13 && parts[1] >= 4);\r\n    }\r\n    return false;\r\n})();\r\n/* istanbul ignore next */\r\nvar supportsPassive = false;\r\n/* istanbul ignore next */\r\nif (inBrowser) {\r\n    var EventName = 'test-passive';\r\n    try {\r\n        var opts = {};\r\n        Object.defineProperty(opts, 'passive', {\r\n            get: function () {\r\n                supportsPassive = true;\r\n            },\r\n        }); // https://github.com/facebook/flow/issues/285\r\n        window.addEventListener(EventName, function () { }, opts);\r\n    }\r\n    catch (e) { }\r\n}\n\nvar extend = function (target, source) {\r\n    for (var key in source) {\r\n        target[key] = source[key];\r\n    }\r\n    return target;\r\n};\r\nfunction between(x, min, max) {\r\n    if (x < min) {\r\n        return min;\r\n    }\r\n    if (x > max) {\r\n        return max;\r\n    }\r\n    return x;\r\n}\n\nvar elementStyle = (inBrowser &&\r\n    document.createElement('div').style);\r\nvar vendor = (function () {\r\n    /* istanbul ignore if  */\r\n    if (!inBrowser) {\r\n        return false;\r\n    }\r\n    var transformNames = [\r\n        {\r\n            key: 'standard',\r\n            value: 'transform',\r\n        },\r\n        {\r\n            key: 'webkit',\r\n            value: 'webkitTransform',\r\n        },\r\n        {\r\n            key: 'Moz',\r\n            value: 'MozTransform',\r\n        },\r\n        {\r\n            key: 'O',\r\n            value: 'OTransform',\r\n        },\r\n        {\r\n            key: 'ms',\r\n            value: 'msTransform',\r\n        },\r\n    ];\r\n    for (var _i = 0, transformNames_1 = transformNames; _i < transformNames_1.length; _i++) {\r\n        var obj = transformNames_1[_i];\r\n        if (elementStyle[obj.value] !== undefined) {\r\n            return obj.key;\r\n        }\r\n    }\r\n    /* istanbul ignore next  */\r\n    return false;\r\n})();\r\n/* istanbul ignore next  */\r\nfunction prefixStyle(style) {\r\n    if (vendor === false) {\r\n        return style;\r\n    }\r\n    if (vendor === 'standard') {\r\n        if (style === 'transitionEnd') {\r\n            return 'transitionend';\r\n        }\r\n        return style;\r\n    }\r\n    return vendor + style.charAt(0).toUpperCase() + style.substr(1);\r\n}\r\nvar cssVendor = vendor && vendor !== 'standard' ? '-' + vendor.toLowerCase() + '-' : '';\r\nvar transform = prefixStyle('transform');\r\nvar transition = prefixStyle('transition');\r\nvar hasPerspective = inBrowser && prefixStyle('perspective') in elementStyle;\r\nvar style = {\r\n    transform: transform,\r\n    transition: transition,\r\n    transitionTimingFunction: prefixStyle('transitionTimingFunction'),\r\n    transitionDuration: prefixStyle('transitionDuration'),\r\n    transitionDelay: prefixStyle('transitionDelay'),\r\n    transformOrigin: prefixStyle('transformOrigin'),\r\n    transitionEnd: prefixStyle('transitionEnd'),\r\n    transitionProperty: prefixStyle('transitionProperty'),\r\n};\r\nfunction prepend(el, target) {\r\n    var firstChild = target.firstChild;\r\n    if (firstChild) {\r\n        before(el, firstChild);\r\n    }\r\n    else {\r\n        target.appendChild(el);\r\n    }\r\n}\r\nfunction before(el, target) {\r\n    var parentNode = target.parentNode;\r\n    parentNode.insertBefore(el, target);\r\n}\r\nfunction removeChild(el, child) {\r\n    el.removeChild(child);\r\n}\n\nvar ease = {\r\n    // easeOutQuint\r\n    swipe: {\r\n        style: 'cubic-bezier(0.23, 1, 0.32, 1)',\r\n        fn: function (t) {\r\n            return 1 + --t * t * t * t * t;\r\n        }\r\n    },\r\n    // easeOutQuard\r\n    swipeBounce: {\r\n        style: 'cubic-bezier(0.25, 0.46, 0.45, 0.94)',\r\n        fn: function (t) {\r\n            return t * (2 - t);\r\n        }\r\n    },\r\n    // easeOutQuart\r\n    bounce: {\r\n        style: 'cubic-bezier(0.165, 0.84, 0.44, 1)',\r\n        fn: function (t) {\r\n            return 1 - --t * t * t * t;\r\n        }\r\n    }\r\n};\n\nvar PagesMatrix = /** @class */ (function () {\r\n    function PagesMatrix(scroll) {\r\n        this.scroll = scroll;\r\n        this.init();\r\n    }\r\n    PagesMatrix.prototype.init = function () {\r\n        var scroller = this.scroll.scroller;\r\n        var scrollBehaviorX = scroller.scrollBehaviorX, scrollBehaviorY = scroller.scrollBehaviorY;\r\n        this.wrapperWidth = scrollBehaviorX.wrapperSize;\r\n        this.wrapperHeight = scrollBehaviorY.wrapperSize;\r\n        this.scrollerHeight = scrollBehaviorY.contentSize;\r\n        this.scrollerWidth = scrollBehaviorX.contentSize;\r\n        this.pages = this.buildPagesMatrix(this.wrapperWidth, this.wrapperHeight);\r\n        this.pageLengthOfX = this.pages ? this.pages.length : 0;\r\n        this.pageLengthOfY = this.pages && this.pages[0] ? this.pages[0].length : 0;\r\n    };\r\n    PagesMatrix.prototype.getPageStats = function (pageX, pageY) {\r\n        return this.pages[pageX][pageY];\r\n    };\r\n    PagesMatrix.prototype.getNearestPageIndex = function (x, y) {\r\n        var pageX = 0;\r\n        var pageY = 0;\r\n        var l = this.pages.length;\r\n        for (; pageX < l - 1; pageX++) {\r\n            if (x >= this.pages[pageX][0].cx) {\r\n                break;\r\n            }\r\n        }\r\n        l = this.pages[pageX].length;\r\n        for (; pageY < l - 1; pageY++) {\r\n            if (y >= this.pages[0][pageY].cy) {\r\n                break;\r\n            }\r\n        }\r\n        return {\r\n            pageX: pageX,\r\n            pageY: pageY,\r\n        };\r\n    };\r\n    // (n x 1) matrix for horizontal scroll or\r\n    // (1 * n) matrix for vertical scroll\r\n    PagesMatrix.prototype.buildPagesMatrix = function (stepX, stepY) {\r\n        var pages = [];\r\n        var x = 0;\r\n        var y;\r\n        var cx;\r\n        var cy;\r\n        var i = 0;\r\n        var l;\r\n        var maxScrollPosX = this.scroll.scroller.scrollBehaviorX.maxScrollPos;\r\n        var maxScrollPosY = this.scroll.scroller.scrollBehaviorY.maxScrollPos;\r\n        cx = Math.round(stepX / 2);\r\n        cy = Math.round(stepY / 2);\r\n        while (x > -this.scrollerWidth) {\r\n            pages[i] = [];\r\n            l = 0;\r\n            y = 0;\r\n            while (y > -this.scrollerHeight) {\r\n                pages[i][l] = {\r\n                    x: Math.max(x, maxScrollPosX),\r\n                    y: Math.max(y, maxScrollPosY),\r\n                    width: stepX,\r\n                    height: stepY,\r\n                    cx: x - cx,\r\n                    cy: y - cy,\r\n                };\r\n                y -= stepY;\r\n                l++;\r\n            }\r\n            x -= stepX;\r\n            i++;\r\n        }\r\n        return pages;\r\n    };\r\n    return PagesMatrix;\r\n}());\n\nvar BASE_PAGE = {\r\n    pageX: 0,\r\n    pageY: 0,\r\n    x: 0,\r\n    y: 0,\r\n};\n\nvar SlidePages = /** @class */ (function () {\r\n    function SlidePages(scroll, slideOptions) {\r\n        this.scroll = scroll;\r\n        this.slideOptions = slideOptions;\r\n        this.slideX = false;\r\n        this.slideY = false;\r\n        this.currentPage = extend({}, BASE_PAGE);\r\n    }\r\n    SlidePages.prototype.refresh = function () {\r\n        this.pagesMatrix = new PagesMatrix(this.scroll);\r\n        this.checkSlideLoop();\r\n        this.currentPage = this.getAdjustedCurrentPage();\r\n    };\r\n    SlidePages.prototype.getAdjustedCurrentPage = function () {\r\n        var _a = this.currentPage, pageX = _a.pageX, pageY = _a.pageY;\r\n        // page index should be handled\r\n        // because page counts may reduce\r\n        pageX = Math.min(pageX, this.pagesMatrix.pageLengthOfX - 1);\r\n        pageY = Math.min(pageY, this.pagesMatrix.pageLengthOfY - 1);\r\n        // loop scene should also be respected\r\n        // because clonedNode will cause pageLength increasing\r\n        if (this.loopX) {\r\n            pageX = Math.min(pageX, this.pagesMatrix.pageLengthOfX - 2);\r\n        }\r\n        if (this.loopY) {\r\n            pageY = Math.min(pageY, this.pagesMatrix.pageLengthOfY - 2);\r\n        }\r\n        var _b = this.pagesMatrix.getPageStats(pageX, pageY), x = _b.x, y = _b.y;\r\n        return { pageX: pageX, pageY: pageY, x: x, y: y };\r\n    };\r\n    SlidePages.prototype.setCurrentPage = function (newPage) {\r\n        this.currentPage = newPage;\r\n    };\r\n    SlidePages.prototype.getInternalPage = function (pageX, pageY) {\r\n        if (pageX >= this.pagesMatrix.pageLengthOfX) {\r\n            pageX = this.pagesMatrix.pageLengthOfX - 1;\r\n        }\r\n        else if (pageX < 0) {\r\n            pageX = 0;\r\n        }\r\n        if (pageY >= this.pagesMatrix.pageLengthOfY) {\r\n            pageY = this.pagesMatrix.pageLengthOfY - 1;\r\n        }\r\n        else if (pageY < 0) {\r\n            pageY = 0;\r\n        }\r\n        var _a = this.pagesMatrix.getPageStats(pageX, pageY), x = _a.x, y = _a.y;\r\n        return {\r\n            pageX: pageX,\r\n            pageY: pageY,\r\n            x: x,\r\n            y: y,\r\n        };\r\n    };\r\n    SlidePages.prototype.getInitialPage = function (showFirstPage, firstInitialised) {\r\n        if (showFirstPage === void 0) { showFirstPage = false; }\r\n        if (firstInitialised === void 0) { firstInitialised = false; }\r\n        var _a = this.slideOptions, startPageXIndex = _a.startPageXIndex, startPageYIndex = _a.startPageYIndex;\r\n        var firstPageX = this.loopX ? 1 : 0;\r\n        var firstPageY = this.loopY ? 1 : 0;\r\n        var pageX = showFirstPage ? firstPageX : this.currentPage.pageX;\r\n        var pageY = showFirstPage ? firstPageY : this.currentPage.pageY;\r\n        if (firstInitialised) {\r\n            pageX = this.loopX ? startPageXIndex + 1 : startPageXIndex;\r\n            pageY = this.loopY ? startPageYIndex + 1 : startPageYIndex;\r\n        }\r\n        else {\r\n            pageX = showFirstPage ? firstPageX : this.currentPage.pageX;\r\n            pageY = showFirstPage ? firstPageY : this.currentPage.pageY;\r\n        }\r\n        var _b = this.pagesMatrix.getPageStats(pageX, pageY), x = _b.x, y = _b.y;\r\n        return {\r\n            pageX: pageX,\r\n            pageY: pageY,\r\n            x: x,\r\n            y: y,\r\n        };\r\n    };\r\n    SlidePages.prototype.getExposedPage = function (page) {\r\n        var exposedPage = extend({}, page);\r\n        // only pageX or pageY need fix\r\n        if (this.loopX) {\r\n            exposedPage.pageX = this.fixedPage(exposedPage.pageX, this.pagesMatrix.pageLengthOfX - 2);\r\n        }\r\n        if (this.loopY) {\r\n            exposedPage.pageY = this.fixedPage(exposedPage.pageY, this.pagesMatrix.pageLengthOfY - 2);\r\n        }\r\n        return exposedPage;\r\n    };\r\n    SlidePages.prototype.getExposedPageByPageIndex = function (pageIndexX, pageIndexY) {\r\n        var page = {\r\n            pageX: pageIndexX,\r\n            pageY: pageIndexY,\r\n        };\r\n        if (this.loopX) {\r\n            page.pageX = pageIndexX + 1;\r\n        }\r\n        if (this.loopY) {\r\n            page.pageY = pageIndexY + 1;\r\n        }\r\n        var _a = this.pagesMatrix.getPageStats(page.pageX, page.pageY), x = _a.x, y = _a.y;\r\n        return {\r\n            x: x,\r\n            y: y,\r\n            pageX: pageIndexX,\r\n            pageY: pageIndexY,\r\n        };\r\n    };\r\n    SlidePages.prototype.getWillChangedPage = function (page) {\r\n        page = extend({}, page);\r\n        // Page need fix\r\n        if (this.loopX) {\r\n            page.pageX = this.fixedPage(page.pageX, this.pagesMatrix.pageLengthOfX - 2);\r\n            page.x = this.pagesMatrix.getPageStats(page.pageX + 1, 0).x;\r\n        }\r\n        if (this.loopY) {\r\n            page.pageY = this.fixedPage(page.pageY, this.pagesMatrix.pageLengthOfY - 2);\r\n            page.y = this.pagesMatrix.getPageStats(0, page.pageY + 1).y;\r\n        }\r\n        return page;\r\n    };\r\n    SlidePages.prototype.fixedPage = function (page, realPageLen) {\r\n        var pageIndex = [];\r\n        for (var i = 0; i < realPageLen; i++) {\r\n            pageIndex.push(i);\r\n        }\r\n        pageIndex.unshift(realPageLen - 1);\r\n        pageIndex.push(0);\r\n        return pageIndex[page];\r\n    };\r\n    SlidePages.prototype.getPageStats = function () {\r\n        return this.pagesMatrix.getPageStats(this.currentPage.pageX, this.currentPage.pageY);\r\n    };\r\n    SlidePages.prototype.getValidPageIndex = function (x, y) {\r\n        var lastX = this.pagesMatrix.pageLengthOfX - 1;\r\n        var lastY = this.pagesMatrix.pageLengthOfY - 1;\r\n        var firstX = 0;\r\n        var firstY = 0;\r\n        if (this.loopX) {\r\n            x += 1;\r\n            firstX = firstX + 1;\r\n            lastX = lastX - 1;\r\n        }\r\n        if (this.loopY) {\r\n            y += 1;\r\n            firstY = firstY + 1;\r\n            lastY = lastY - 1;\r\n        }\r\n        x = between(x, firstX, lastX);\r\n        y = between(y, firstY, lastY);\r\n        return {\r\n            pageX: x,\r\n            pageY: y,\r\n        };\r\n    };\r\n    SlidePages.prototype.nextPageIndex = function () {\r\n        return this.getPageIndexByDirection(\"positive\" /* Positive */);\r\n    };\r\n    SlidePages.prototype.prevPageIndex = function () {\r\n        return this.getPageIndexByDirection(\"negative\" /* Negative */);\r\n    };\r\n    SlidePages.prototype.getNearestPage = function (x, y) {\r\n        var pageIndex = this.pagesMatrix.getNearestPageIndex(x, y);\r\n        var pageX = pageIndex.pageX, pageY = pageIndex.pageY;\r\n        var newX = this.pagesMatrix.getPageStats(pageX, 0).x;\r\n        var newY = this.pagesMatrix.getPageStats(0, pageY).y;\r\n        return {\r\n            x: newX,\r\n            y: newY,\r\n            pageX: pageX,\r\n            pageY: pageY,\r\n        };\r\n    };\r\n    SlidePages.prototype.getPageByDirection = function (page, directionX, directionY) {\r\n        var pageX = page.pageX, pageY = page.pageY;\r\n        if (pageX === this.currentPage.pageX) {\r\n            pageX = between(pageX + directionX, 0, this.pagesMatrix.pageLengthOfX - 1);\r\n        }\r\n        if (pageY === this.currentPage.pageY) {\r\n            pageY = between(pageY + directionY, 0, this.pagesMatrix.pageLengthOfY - 1);\r\n        }\r\n        var x = this.pagesMatrix.getPageStats(pageX, 0).x;\r\n        var y = this.pagesMatrix.getPageStats(0, pageY).y;\r\n        return {\r\n            x: x,\r\n            y: y,\r\n            pageX: pageX,\r\n            pageY: pageY,\r\n        };\r\n    };\r\n    SlidePages.prototype.resetLoopPage = function () {\r\n        if (this.loopX) {\r\n            if (this.currentPage.pageX === 0) {\r\n                return {\r\n                    pageX: this.pagesMatrix.pageLengthOfX - 2,\r\n                    pageY: this.currentPage.pageY,\r\n                };\r\n            }\r\n            if (this.currentPage.pageX === this.pagesMatrix.pageLengthOfX - 1) {\r\n                return {\r\n                    pageX: 1,\r\n                    pageY: this.currentPage.pageY,\r\n                };\r\n            }\r\n        }\r\n        if (this.loopY) {\r\n            if (this.currentPage.pageY === 0) {\r\n                return {\r\n                    pageX: this.currentPage.pageX,\r\n                    pageY: this.pagesMatrix.pageLengthOfY - 2,\r\n                };\r\n            }\r\n            if (this.currentPage.pageY === this.pagesMatrix.pageLengthOfY - 1) {\r\n                return {\r\n                    pageX: this.currentPage.pageX,\r\n                    pageY: 1,\r\n                };\r\n            }\r\n        }\r\n    };\r\n    SlidePages.prototype.getPageIndexByDirection = function (direction) {\r\n        var x = this.currentPage.pageX;\r\n        var y = this.currentPage.pageY;\r\n        if (this.slideX) {\r\n            x = direction === \"negative\" /* Negative */ ? x - 1 : x + 1;\r\n        }\r\n        if (this.slideY) {\r\n            y = direction === \"negative\" /* Negative */ ? y - 1 : y + 1;\r\n        }\r\n        return {\r\n            pageX: x,\r\n            pageY: y,\r\n        };\r\n    };\r\n    SlidePages.prototype.checkSlideLoop = function () {\r\n        this.wannaLoop = this.slideOptions.loop;\r\n        if (this.pagesMatrix.pageLengthOfX > 1) {\r\n            this.slideX = true;\r\n        }\r\n        else {\r\n            this.slideX = false;\r\n        }\r\n        if (this.pagesMatrix.pages[0] && this.pagesMatrix.pageLengthOfY > 1) {\r\n            this.slideY = true;\r\n        }\r\n        else {\r\n            this.slideY = false;\r\n        }\r\n        this.loopX = this.wannaLoop && this.slideX;\r\n        this.loopY = this.wannaLoop && this.slideY;\r\n        if (this.slideX && this.slideY) {\r\n            warn('slide does not support two direction at the same time.');\r\n        }\r\n    };\r\n    return SlidePages;\r\n}());\n\nvar sourcePrefix = 'plugins.slide';\r\nvar propertiesMap = [\r\n    {\r\n        key: 'next',\r\n        name: 'next',\r\n    },\r\n    {\r\n        key: 'prev',\r\n        name: 'prev',\r\n    },\r\n    {\r\n        key: 'goToPage',\r\n        name: 'goToPage',\r\n    },\r\n    {\r\n        key: 'getCurrentPage',\r\n        name: 'getCurrentPage',\r\n    },\r\n    {\r\n        key: 'startPlay',\r\n        name: 'startPlay',\r\n    },\r\n    {\r\n        key: 'pausePlay',\r\n        name: 'pausePlay',\r\n    },\r\n];\r\nvar propertiesConfig = propertiesMap.map(function (item) {\r\n    return {\r\n        key: item.key,\r\n        sourceKey: sourcePrefix + \".\" + item.name,\r\n    };\r\n});\n\nvar samePage = function (p1, p2) {\r\n    return p1.pageX === p2.pageX && p1.pageY === p2.pageY;\r\n};\r\nvar Slide = /** @class */ (function () {\r\n    function Slide(scroll) {\r\n        this.scroll = scroll;\r\n        this.cachedClonedPageDOM = [];\r\n        this.resetLooping = false;\r\n        this.autoplayTimer = 0;\r\n        if (!this.satisfyInitialization()) {\r\n            return;\r\n        }\r\n        this.init();\r\n    }\r\n    Slide.prototype.satisfyInitialization = function () {\r\n        if (this.scroll.scroller.content.children.length <= 0) {\r\n            warn(\"slide need at least one slide page to be initialised.\" +\r\n                \"please check your DOM layout.\");\r\n            return false;\r\n        }\r\n        return true;\r\n    };\r\n    Slide.prototype.init = function () {\r\n        this.willChangeToPage = extend({}, BASE_PAGE);\r\n        this.handleBScroll();\r\n        this.handleOptions();\r\n        this.handleHooks();\r\n        this.createPages();\r\n    };\r\n    Slide.prototype.createPages = function () {\r\n        this.pages = new SlidePages(this.scroll, this.options);\r\n    };\r\n    Slide.prototype.handleBScroll = function () {\r\n        this.scroll.registerType(['slideWillChange', 'slidePageChanged']);\r\n        this.scroll.proxy(propertiesConfig);\r\n    };\r\n    Slide.prototype.handleOptions = function () {\r\n        var userOptions = (this.scroll.options.slide === true\r\n            ? {}\r\n            : this.scroll.options.slide);\r\n        var defaultOptions = {\r\n            loop: true,\r\n            threshold: 0.1,\r\n            speed: 400,\r\n            easing: ease.bounce,\r\n            listenFlick: true,\r\n            autoplay: true,\r\n            interval: 3000,\r\n            startPageXIndex: 0,\r\n            startPageYIndex: 0,\r\n        };\r\n        this.options = extend(defaultOptions, userOptions);\r\n    };\r\n    Slide.prototype.handleLoop = function (prevSlideContent) {\r\n        var loop = this.options.loop;\r\n        var slideContent = this.scroll.scroller.content;\r\n        var currentSlidePagesLength = slideContent.children.length;\r\n        // only should respect loop scene\r\n        if (loop) {\r\n            if (slideContent !== prevSlideContent) {\r\n                this.resetLoopChangedStatus();\r\n                this.removeClonedSlidePage(prevSlideContent);\r\n                currentSlidePagesLength > 1 &&\r\n                    this.cloneFirstAndLastSlidePage(slideContent);\r\n            }\r\n            else {\r\n                // many pages reduce to one page\r\n                if (currentSlidePagesLength === 3 && this.initialised) {\r\n                    this.removeClonedSlidePage(slideContent);\r\n                    this.moreToOnePageInLoop = true;\r\n                    this.oneToMorePagesInLoop = false;\r\n                }\r\n                else if (currentSlidePagesLength > 1) {\r\n                    // one page increases to many page\r\n                    if (this.initialised && this.cachedClonedPageDOM.length === 0) {\r\n                        this.oneToMorePagesInLoop = true;\r\n                        this.moreToOnePageInLoop = false;\r\n                    }\r\n                    else {\r\n                        this.removeClonedSlidePage(slideContent);\r\n                        this.resetLoopChangedStatus();\r\n                    }\r\n                    this.cloneFirstAndLastSlidePage(slideContent);\r\n                }\r\n                else {\r\n                    this.resetLoopChangedStatus();\r\n                }\r\n            }\r\n        }\r\n    };\r\n    Slide.prototype.resetLoopChangedStatus = function () {\r\n        this.moreToOnePageInLoop = false;\r\n        this.oneToMorePagesInLoop = false;\r\n    };\r\n    Slide.prototype.handleHooks = function () {\r\n        var _this = this;\r\n        var scrollHooks = this.scroll.hooks;\r\n        var scrollerHooks = this.scroll.scroller.hooks;\r\n        var listenFlick = this.options.listenFlick;\r\n        this.prevContent = this.scroll.scroller.content;\r\n        this.hooksFn = [];\r\n        // scroll\r\n        this.registerHooks(this.scroll, this.scroll.eventTypes.beforeScrollStart, this.pausePlay);\r\n        this.registerHooks(this.scroll, this.scroll.eventTypes.scrollEnd, this.modifyCurrentPage);\r\n        this.registerHooks(this.scroll, this.scroll.eventTypes.scrollEnd, this.startPlay);\r\n        // for mousewheel event\r\n        if (this.scroll.eventTypes.mousewheelMove) {\r\n            this.registerHooks(this.scroll, this.scroll.eventTypes.mousewheelMove, function () {\r\n                // prevent default action of mousewheelMove\r\n                return true;\r\n            });\r\n            this.registerHooks(this.scroll, this.scroll.eventTypes.mousewheelEnd, function (delta) {\r\n                if (delta.directionX === 1 /* Positive */ ||\r\n                    delta.directionY === 1 /* Positive */) {\r\n                    _this.next();\r\n                }\r\n                if (delta.directionX === -1 /* Negative */ ||\r\n                    delta.directionY === -1 /* Negative */) {\r\n                    _this.prev();\r\n                }\r\n            });\r\n        }\r\n        // scrollHooks\r\n        this.registerHooks(scrollHooks, scrollHooks.eventTypes.refresh, this.refreshHandler);\r\n        this.registerHooks(scrollHooks, scrollHooks.eventTypes.destroy, this.destroy);\r\n        // scroller\r\n        this.registerHooks(scrollerHooks, scrollerHooks.eventTypes.beforeRefresh, function () {\r\n            _this.handleLoop(_this.prevContent);\r\n            _this.setSlideInlineStyle();\r\n        });\r\n        this.registerHooks(scrollerHooks, scrollerHooks.eventTypes.momentum, this.modifyScrollMetaHandler);\r\n        this.registerHooks(scrollerHooks, scrollerHooks.eventTypes.scroll, this.scrollHandler);\r\n        // a click operation will clearTimer, so restart a new one\r\n        this.registerHooks(scrollerHooks, scrollerHooks.eventTypes.checkClick, this.startPlay);\r\n        if (listenFlick) {\r\n            this.registerHooks(scrollerHooks, scrollerHooks.eventTypes.flick, this.flickHandler);\r\n        }\r\n    };\r\n    Slide.prototype.startPlay = function () {\r\n        var _this = this;\r\n        var _a = this.options, interval = _a.interval, autoplay = _a.autoplay;\r\n        if (autoplay) {\r\n            clearTimeout(this.autoplayTimer);\r\n            this.autoplayTimer = window.setTimeout(function () {\r\n                _this.next();\r\n            }, interval);\r\n        }\r\n    };\r\n    Slide.prototype.pausePlay = function () {\r\n        if (this.options.autoplay) {\r\n            clearTimeout(this.autoplayTimer);\r\n        }\r\n    };\r\n    Slide.prototype.setSlideInlineStyle = function () {\r\n        var styleConfigurations = [\r\n            {\r\n                direction: 'scrollX',\r\n                sizeType: 'offsetWidth',\r\n                styleType: 'width',\r\n            },\r\n            {\r\n                direction: 'scrollY',\r\n                sizeType: 'offsetHeight',\r\n                styleType: 'height',\r\n            },\r\n        ];\r\n        var _a = this.scroll.scroller, slideContent = _a.content, slideWrapper = _a.wrapper;\r\n        var scrollOptions = this.scroll.options;\r\n        styleConfigurations.forEach(function (_a) {\r\n            var direction = _a.direction, sizeType = _a.sizeType, styleType = _a.styleType;\r\n            // wanna scroll in this direction\r\n            if (scrollOptions[direction]) {\r\n                var size = slideWrapper[sizeType];\r\n                var children = slideContent.children;\r\n                var length_1 = children.length;\r\n                for (var i = 0; i < length_1; i++) {\r\n                    var slidePageDOM = children[i];\r\n                    slidePageDOM.style[styleType] = size + 'px';\r\n                }\r\n                slideContent.style[styleType] = size * length_1 + 'px';\r\n            }\r\n        });\r\n    };\r\n    Slide.prototype.next = function (time, easing) {\r\n        var _a = this.pages.nextPageIndex(), pageX = _a.pageX, pageY = _a.pageY;\r\n        this.goTo(pageX, pageY, time, easing);\r\n    };\r\n    Slide.prototype.prev = function (time, easing) {\r\n        var _a = this.pages.prevPageIndex(), pageX = _a.pageX, pageY = _a.pageY;\r\n        this.goTo(pageX, pageY, time, easing);\r\n    };\r\n    Slide.prototype.goToPage = function (pageX, pageY, time, easing) {\r\n        var pageIndex = this.pages.getValidPageIndex(pageX, pageY);\r\n        this.goTo(pageIndex.pageX, pageIndex.pageY, time, easing);\r\n    };\r\n    Slide.prototype.getCurrentPage = function () {\r\n        return this.exposedPage || this.pages.getInitialPage(false, true);\r\n    };\r\n    Slide.prototype.setCurrentPage = function (page) {\r\n        this.pages.setCurrentPage(page);\r\n        this.exposedPage = this.pages.getExposedPage(page);\r\n    };\r\n    Slide.prototype.nearestPage = function (x, y) {\r\n        var _a = this.scroll.scroller, scrollBehaviorX = _a.scrollBehaviorX, scrollBehaviorY = _a.scrollBehaviorY;\r\n        var maxScrollPosX = scrollBehaviorX.maxScrollPos, minScrollPosX = scrollBehaviorX.minScrollPos;\r\n        var maxScrollPosY = scrollBehaviorY.maxScrollPos, minScrollPosY = scrollBehaviorY.minScrollPos;\r\n        return this.pages.getNearestPage(between(x, maxScrollPosX, minScrollPosX), between(y, maxScrollPosY, minScrollPosY));\r\n    };\r\n    Slide.prototype.satisfyThreshold = function (x, y) {\r\n        var _a = this.scroll.scroller, scrollBehaviorX = _a.scrollBehaviorX, scrollBehaviorY = _a.scrollBehaviorY;\r\n        var satisfied = true;\r\n        if (Math.abs(x - scrollBehaviorX.absStartPos) <= this.thresholdX &&\r\n            Math.abs(y - scrollBehaviorY.absStartPos) <= this.thresholdY) {\r\n            satisfied = false;\r\n        }\r\n        return satisfied;\r\n    };\r\n    Slide.prototype.refreshHandler = function (content) {\r\n        var _this = this;\r\n        if (!this.satisfyInitialization()) {\r\n            return;\r\n        }\r\n        this.pages.refresh();\r\n        this.computeThreshold();\r\n        var contentChanged = (this.contentChanged = this.prevContent !== content);\r\n        if (contentChanged) {\r\n            this.prevContent = content;\r\n        }\r\n        var initPage = this.pages.getInitialPage(this.oneToMorePagesInLoop || this.moreToOnePageInLoop, contentChanged || !this.initialised);\r\n        if (this.initialised) {\r\n            this.goTo(initPage.pageX, initPage.pageY, 0);\r\n        }\r\n        else {\r\n            this.registerHooks(this.scroll.hooks, this.scroll.hooks.eventTypes.beforeInitialScrollTo, function (position) {\r\n                _this.initialised = true;\r\n                position.x = initPage.x;\r\n                position.y = initPage.y;\r\n            });\r\n        }\r\n        this.startPlay();\r\n    };\r\n    Slide.prototype.computeThreshold = function () {\r\n        var threshold = this.options.threshold;\r\n        // Integer\r\n        if (threshold % 1 === 0) {\r\n            this.thresholdX = threshold;\r\n            this.thresholdY = threshold;\r\n        }\r\n        else {\r\n            // decimal\r\n            var _a = this.pages.getPageStats(), width = _a.width, height = _a.height;\r\n            this.thresholdX = Math.round(width * threshold);\r\n            this.thresholdY = Math.round(height * threshold);\r\n        }\r\n    };\r\n    Slide.prototype.cloneFirstAndLastSlidePage = function (slideContent) {\r\n        var children = slideContent.children;\r\n        var preprendDOM = children[children.length - 1].cloneNode(true);\r\n        var appendDOM = children[0].cloneNode(true);\r\n        prepend(preprendDOM, slideContent);\r\n        slideContent.appendChild(appendDOM);\r\n        this.cachedClonedPageDOM = [preprendDOM, appendDOM];\r\n    };\r\n    Slide.prototype.removeClonedSlidePage = function (slideContent) {\r\n        // maybe slideContent has removed from DOM Tree\r\n        var slidePages = (slideContent && slideContent.children) || [];\r\n        if (slidePages.length) {\r\n            this.cachedClonedPageDOM.forEach(function (el) {\r\n                removeChild(slideContent, el);\r\n            });\r\n        }\r\n        this.cachedClonedPageDOM = [];\r\n    };\r\n    Slide.prototype.modifyCurrentPage = function (point) {\r\n        var _a = this.getCurrentPage(), prevExposedPageX = _a.pageX, prevExposedPageY = _a.pageY;\r\n        var newPage = this.nearestPage(point.x, point.y);\r\n        this.setCurrentPage(newPage);\r\n        /* istanbul ignore if */\r\n        if (this.contentChanged) {\r\n            this.contentChanged = false;\r\n            return true;\r\n        }\r\n        var _b = this.getCurrentPage(), currentExposedPageX = _b.pageX, currentExposedPageY = _b.pageY;\r\n        this.pageWillChangeTo(newPage);\r\n        // loop is true, and one page becomes many pages when call bs.refresh\r\n        if (this.oneToMorePagesInLoop) {\r\n            this.oneToMorePagesInLoop = false;\r\n            return true;\r\n        }\r\n        // loop is true, and many page becomes one page when call bs.refresh\r\n        // if prevPage > 0, dispatch slidePageChanged and scrollEnd events\r\n        /* istanbul ignore if */\r\n        if (this.moreToOnePageInLoop &&\r\n            prevExposedPageX === 0 &&\r\n            prevExposedPageY === 0) {\r\n            this.moreToOnePageInLoop = false;\r\n            return true;\r\n        }\r\n        if (prevExposedPageX !== currentExposedPageX ||\r\n            prevExposedPageY !== currentExposedPageY) {\r\n            // only trust pageX & pageY when loop is true\r\n            var page = this.pages.getExposedPageByPageIndex(currentExposedPageX, currentExposedPageY);\r\n            this.scroll.trigger(this.scroll.eventTypes.slidePageChanged, page);\r\n        }\r\n        // triggered by resetLoop\r\n        if (this.resetLooping) {\r\n            this.resetLooping = false;\r\n            return;\r\n        }\r\n        var changePage = this.pages.resetLoopPage();\r\n        if (changePage) {\r\n            this.resetLooping = true;\r\n            this.goTo(changePage.pageX, changePage.pageY, 0);\r\n            // stop user's scrollEnd\r\n            // since it is a seamless scroll\r\n            return true;\r\n        }\r\n    };\r\n    Slide.prototype.goTo = function (pageX, pageY, time, easing) {\r\n        var newPage = this.pages.getInternalPage(pageX, pageY);\r\n        var scrollEasing = easing || this.options.easing || ease.bounce;\r\n        var x = newPage.x, y = newPage.y;\r\n        var deltaX = x - this.scroll.scroller.scrollBehaviorX.currentPos;\r\n        var deltaY = y - this.scroll.scroller.scrollBehaviorY.currentPos;\r\n        /* istanbul ignore if */\r\n        if (!deltaX && !deltaY) {\r\n            this.scroll.scroller.togglePointerEvents(true);\r\n            return;\r\n        }\r\n        time = time === undefined ? this.getEaseTime(deltaX, deltaY) : time;\r\n        this.scroll.scroller.scrollTo(x, y, time, scrollEasing);\r\n    };\r\n    Slide.prototype.flickHandler = function () {\r\n        var _a = this.scroll.scroller, scrollBehaviorX = _a.scrollBehaviorX, scrollBehaviorY = _a.scrollBehaviorY;\r\n        var currentPosX = scrollBehaviorX.currentPos, startPosX = scrollBehaviorX.startPos, directionX = scrollBehaviorX.direction;\r\n        var currentPosY = scrollBehaviorY.currentPos, startPosY = scrollBehaviorY.startPos, directionY = scrollBehaviorY.direction;\r\n        var _b = this.pages.currentPage, pageX = _b.pageX, pageY = _b.pageY;\r\n        var time = this.getEaseTime(currentPosX - startPosX, currentPosY - startPosY);\r\n        this.goTo(pageX + directionX, pageY + directionY, time);\r\n    };\r\n    Slide.prototype.getEaseTime = function (deltaX, deltaY) {\r\n        return (this.options.speed ||\r\n            Math.max(Math.max(Math.min(Math.abs(deltaX), 1000), Math.min(Math.abs(deltaY), 1000)), 300));\r\n    };\r\n    Slide.prototype.modifyScrollMetaHandler = function (scrollMeta) {\r\n        var _a = this.scroll.scroller, scrollBehaviorX = _a.scrollBehaviorX, scrollBehaviorY = _a.scrollBehaviorY, animater = _a.animater;\r\n        var newX = scrollMeta.newX;\r\n        var newY = scrollMeta.newY;\r\n        var newPage = this.satisfyThreshold(newX, newY) || animater.forceStopped\r\n            ? this.pages.getPageByDirection(this.nearestPage(newX, newY), scrollBehaviorX.direction, scrollBehaviorY.direction)\r\n            : this.pages.currentPage;\r\n        scrollMeta.time = this.getEaseTime(scrollMeta.newX - newPage.x, scrollMeta.newY - newPage.y);\r\n        scrollMeta.newX = newPage.x;\r\n        scrollMeta.newY = newPage.y;\r\n        scrollMeta.easing = this.options.easing || ease.bounce;\r\n    };\r\n    Slide.prototype.scrollHandler = function (_a) {\r\n        var x = _a.x, y = _a.y;\r\n        if (this.satisfyThreshold(x, y)) {\r\n            var newPage = this.nearestPage(x, y);\r\n            this.pageWillChangeTo(newPage);\r\n        }\r\n    };\r\n    Slide.prototype.pageWillChangeTo = function (newPage) {\r\n        var changeToPage = this.pages.getWillChangedPage(newPage);\r\n        if (!samePage(this.willChangeToPage, changeToPage)) {\r\n            this.willChangeToPage = changeToPage;\r\n            this.scroll.trigger(this.scroll.eventTypes.slideWillChange, this.willChangeToPage);\r\n        }\r\n    };\r\n    Slide.prototype.registerHooks = function (hooks, name, handler) {\r\n        hooks.on(name, handler, this);\r\n        this.hooksFn.push([hooks, name, handler]);\r\n    };\r\n    Slide.prototype.destroy = function () {\r\n        var slideContent = this.scroll.scroller.content;\r\n        var _a = this.options, loop = _a.loop, autoplay = _a.autoplay;\r\n        if (loop) {\r\n            this.removeClonedSlidePage(slideContent);\r\n        }\r\n        if (autoplay) {\r\n            clearTimeout(this.autoplayTimer);\r\n        }\r\n        this.hooksFn.forEach(function (item) {\r\n            var hooks = item[0];\r\n            var hooksName = item[1];\r\n            var handlerFn = item[2];\r\n            if (hooks.eventTypes[hooksName]) {\r\n                hooks.off(hooksName, handlerFn);\r\n            }\r\n        });\r\n        this.hooksFn.length = 0;\r\n    };\r\n    Slide.pluginName = 'slide';\r\n    return Slide;\r\n}());\n\nexport default Slide;\n","import BScroll from '@better-scroll/core'\r\nimport Slide from '@better-scroll/slide'\r\nimport { onMounted, onUnmounted, ref, onActivated, onDeactivated } from 'vue'\r\nBScroll.use(Slide)\r\nconst slider = ref(null)\r\nconst currentPageIndex = ref(0)\r\nexport default function useSlider (rootRef) {\r\n  onMounted(() => {\r\n    const sliderVal = slider.value = new BScroll(rootRef.value, {\r\n      scrollX: true,\r\n      scrollY: false,\r\n      slide: true,\r\n      momentum: false,\r\n      bounce: false,\r\n      probeType: 2,\r\n      click: true\r\n    })\r\n    sliderVal.on('slideWillChange', (page) => {\r\n      currentPageIndex.value = page.pageX\r\n    })\r\n  })\r\n  onUnmounted(() => {\r\n    slider.value.destroy()\r\n  })\r\n  onActivated(() => {\r\n    slider.value.enable()\r\n    slider.value.refresh()\r\n  })\r\n\r\n  onDeactivated(() => {\r\n    slider.value.disable()\r\n  })\r\n  return { currentPageIndex }\r\n}\r\n","import { render } from \"./slider.vue?vue&type=template&id=02bacbd6&scoped=true\"\nimport script from \"./slider.vue?vue&type=script&lang=js\"\nexport * from \"./slider.vue?vue&type=script&lang=js\"\n\nimport \"./slider.vue?vue&type=style&index=0&id=02bacbd6&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-02bacbd6\"\n\nexport default script","import { render } from \"./recommend.vue?vue&type=template&id=2fd65343&scoped=true\"\nimport script from \"./recommend.vue?vue&type=script&lang=js\"\nexport * from \"./recommend.vue?vue&type=script&lang=js\"\n\nimport \"./recommend.vue?vue&type=style&index=0&id=2fd65343&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-2fd65343\"\n\nexport default script","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!./recommend.vue?vue&type=style&index=0&id=2fd65343&lang=scss&scoped=true\"","var requireObjectCoercible = require('../internals/require-object-coercible');\n\nvar quot = /\"/g;\n\n// `CreateHTML` abstract operation\n// https://tc39.es/ecma262/#sec-createhtml\nmodule.exports = function (string, tag, attribute, value) {\n  var S = String(requireObjectCoercible(string));\n  var p1 = '<' + tag;\n  if (attribute !== '') p1 += ' ' + attribute + '=\"' + String(value).replace(quot, '&quot;') + '\"';\n  return p1 + '>' + S + '</' + tag + '>';\n};\n","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!./slider.vue?vue&type=style&index=0&id=02bacbd6&lang=scss&scoped=true\"","'use strict';\nvar $ = require('../internals/export');\nvar createHTML = require('../internals/create-html');\nvar forcedStringHTMLMethod = require('../internals/string-html-forced');\n\n// `String.prototype.link` method\n// https://tc39.es/ecma262/#sec-string.prototype.link\n$({ target: 'String', proto: true, forced: forcedStringHTMLMethod('link') }, {\n  link: function link(url) {\n    return createHTML(this, 'a', 'href', url);\n  }\n});\n","var fails = require('../internals/fails');\n\n// check the existence of a method, lowercase\n// of a tag and escaping quotes in arguments\nmodule.exports = function (METHOD_NAME) {\n  return fails(function () {\n    var test = ''[METHOD_NAME]('\"');\n    return test !== test.toLowerCase() || test.split('\"').length > 3;\n  });\n};\n"],"sourceRoot":""}